package com.academy.homework;

public class ForInvest2 {

  public static void main(String[] args) {
    String log = "{\n" +
        "  \"_index\": \"autx-payments-2023.04.19\",\n" +
        "  \"_type\": \"_doc\",\n" +
        "  \"_id\": \"yIwzmIcBa7nX3mbrrj4b\",\n" +
        "  \"_version\": 1,\n" +
        "  \"_score\": 1,\n" +
        "  \"_ignored\": [\n" +
        "    \"message.keyword\"\n" +
        "  ],\n" +
        "  \"_source\": {\n" +
        "    \"environment\": \"fxb3\",\n" +
        "    \"@timestamp\": \"2023-04-19T06:28:55.013Z\",\n" +
        "    \"name\": \"autx-payments\",\n" +
        "    \"message\": \"(serverId=66) 2023-04-19 06:28:53.575 ERROR paymentsFeeUpdateEventListener-2-C-1 ErrorSkipCounter:processKafkaException:42 - ESB: Exception while processing message: payment-hub--all:5:10087; key:null: \\njava.lang.reflect.UndeclaredThrowableException: null\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:780)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\n\\tat com.fxclub.payments.service.FeeConfigurationService$$EnhancerBySpringCGLIB$$c90becc4.processFeeUpdateEvent(<generated>)\\n\\tat com.fxclub.payments.esb.EsbListener.listenFeeUpdateEvent(EsbListener.java:64)\\n\\tat com.fxclub.payments.esb.EsbListener$$FastClassBySpringCGLIB$$ab800a26.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\n\\tat com.fxclub.payments.esb.EsbListener$$EnhancerBySpringCGLIB$$695f88a.listenFeeUpdateEvent(<generated>)\\n\\tat jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.DefaultCustomFxGenericMessageListener.onMessage(DefaultCustomFxGenericMessageListener.java:85)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.DefaultCustomFxGenericMessageListener.listenFxMessage(DefaultCustomFxGenericMessageListener.java:60)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.FxMessageGenericListener.listenFxMessage(FxMessageGenericListener.java:41)\\n\\tat jdk.internal.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)\\n\\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)\\n\\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)\\n\\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.invoke(BatchMessagingMessageListenerAdapter.java:180)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.onMessage(BatchMessagingMessageListenerAdapter.java:172)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.onMessage(BatchMessagingMessageListenerAdapter.java:61)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeBatchOnMessage(KafkaMessageListenerContainer.java:2268)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchOnMessageWithRecordsOrList(KafkaMessageListenerContainer.java:2258)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchOnMessage(KafkaMessageListenerContainer.java:2204)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeBatchListener(KafkaMessageListenerContainer.java:2114)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.access$2100(KafkaMessageListenerContainer.java:550)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$1.doInTransactionWithoutResult(KafkaMessageListenerContainer.java:2021)\\n\\tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36)\\n\\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchListenerInTx(KafkaMessageListenerContainer.java:2012)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchListener(KafkaMessageListenerContainer.java:1994)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1976)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1364)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1355)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1247)\\n\\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\\n\\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\nCaused by: com.fxclub.api.common.exceptions.ServiceException: Exception during service call https://currency-rates-fxb3-priv.qa-env.com/v3/convertByLastRates: null\\n\\tat com.fxclub.rest.v3.RestV3Caller.checkResponse(RestV3Caller.java:695)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeatForResponseEntity(RestV3Caller.java:667)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeatForResponseEntity(RestV3Caller.java:614)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeat(RestV3Caller.java:600)\\n\\tat com.fxclub.rest.v3.RestV3Caller.call(RestV3Caller.java:556)\\n\\tat com.fxclub.rest.v3.RestV3Caller.call(RestV3Caller.java:245)\\n\\tat com.fxclub.payments.service.FeeConfigurationService.lambda$processFeeUpdateEvent$4(FeeConfigurationService.java:149)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\\n\\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\\n\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\\n\\tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)\\n\\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\\n\\tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:686)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\\n\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\\n\\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\\n\\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:765)\\n\\tat com.fxclub.payments.service.FeeConfigurationService.processFeeUpdateEvent(FeeConfigurationService.java:135)\\n\\tat com.fxclub.payments.service.FeeConfigurationService$$FastClassBySpringCGLIB$$dbbc6a4.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\t... 56 common frames omitted\"\n" +
        "  },\n" +
        "  \"fields\": {\n" +
        "    \"environment.keyword\": [\n" +
        "      \"fxb3\"\n" +
        "    ],\n" +
        "    \"environment\": [\n" +
        "      \"fxb3\"\n" +
        "    ],\n" +
        "    \"@timestamp\": [\n" +
        "      \"2023-04-19T06:28:55.013Z\"\n" +
        "    ],\n" +
        "    \"name\": [\n" +
        "      \"autx-payments\"\n" +
        "    ],\n" +
        "    \"name.keyword\": [\n" +
        "      \"autx-payments\"\n" +
        "    ],\n" +
        "    \"message\": [\n" +
        "      \"(serverId=66) 2023-04-19 06:28:53.575 ERROR paymentsFeeUpdateEventListener-2-C-1 ErrorSkipCounter:processKafkaException:42 - ESB: Exception while processing message: payment-hub--all:5:10087; key:null: \\njava.lang.reflect.UndeclaredThrowableException: null\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:780)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\n\\tat com.fxclub.payments.service.FeeConfigurationService$$EnhancerBySpringCGLIB$$c90becc4.processFeeUpdateEvent(<generated>)\\n\\tat com.fxclub.payments.esb.EsbListener.listenFeeUpdateEvent(EsbListener.java:64)\\n\\tat com.fxclub.payments.esb.EsbListener$$FastClassBySpringCGLIB$$ab800a26.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\n\\tat com.fxclub.payments.esb.EsbListener$$EnhancerBySpringCGLIB$$695f88a.listenFeeUpdateEvent(<generated>)\\n\\tat jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.DefaultCustomFxGenericMessageListener.onMessage(DefaultCustomFxGenericMessageListener.java:85)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.DefaultCustomFxGenericMessageListener.listenFxMessage(DefaultCustomFxGenericMessageListener.java:60)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.FxMessageGenericListener.listenFxMessage(FxMessageGenericListener.java:41)\\n\\tat jdk.internal.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)\\n\\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)\\n\\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)\\n\\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.invoke(BatchMessagingMessageListenerAdapter.java:180)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.onMessage(BatchMessagingMessageListenerAdapter.java:172)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.onMessage(BatchMessagingMessageListenerAdapter.java:61)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeBatchOnMessage(KafkaMessageListenerContainer.java:2268)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchOnMessageWithRecordsOrList(KafkaMessageListenerContainer.java:2258)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchOnMessage(KafkaMessageListenerContainer.java:2204)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeBatchListener(KafkaMessageListenerContainer.java:2114)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.access$2100(KafkaMessageListenerContainer.java:550)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$1.doInTransactionWithoutResult(KafkaMessageListenerContainer.java:2021)\\n\\tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36)\\n\\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchListenerInTx(KafkaMessageListenerContainer.java:2012)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchListener(KafkaMessageListenerContainer.java:1994)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1976)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1364)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1355)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1247)\\n\\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\\n\\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\nCaused by: com.fxclub.api.common.exceptions.ServiceException: Exception during service call https://currency-rates-fxb3-priv.qa-env.com/v3/convertByLastRates: null\\n\\tat com.fxclub.rest.v3.RestV3Caller.checkResponse(RestV3Caller.java:695)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeatForResponseEntity(RestV3Caller.java:667)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeatForResponseEntity(RestV3Caller.java:614)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeat(RestV3Caller.java:600)\\n\\tat com.fxclub.rest.v3.RestV3Caller.call(RestV3Caller.java:556)\\n\\tat com.fxclub.rest.v3.RestV3Caller.call(RestV3Caller.java:245)\\n\\tat com.fxclub.payments.service.FeeConfigurationService.lambda$processFeeUpdateEvent$4(FeeConfigurationService.java:149)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\\n\\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\\n\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\\n\\tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)\\n\\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\\n\\tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:686)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\\n\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\\n\\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\\n\\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:765)\\n\\tat com.fxclub.payments.service.FeeConfigurationService.processFeeUpdateEvent(FeeConfigurationService.java:135)\\n\\tat com.fxclub.payments.service.FeeConfigurationService$$FastClassBySpringCGLIB$$dbbc6a4.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\t... 56 common frames omitted\"\n" +
        "    ]\n" +
        "  },\n" +
        "  \"ignored_field_values\": {\n" +
        "    \"message.keyword\": [\n" +
        "      \"(serverId=66) 2023-04-19 06:28:53.575 ERROR paymentsFeeUpdateEventListener-2-C-1 ErrorSkipCounter:processKafkaException:42 - ESB: Exception while processing message: payment-hub--all:5:10087; key:null: \\njava.lang.reflect.UndeclaredThrowableException: null\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:780)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\n\\tat com.fxclub.payments.service.FeeConfigurationService$$EnhancerBySpringCGLIB$$c90becc4.processFeeUpdateEvent(<generated>)\\n\\tat com.fxclub.payments.esb.EsbListener.listenFeeUpdateEvent(EsbListener.java:64)\\n\\tat com.fxclub.payments.esb.EsbListener$$FastClassBySpringCGLIB$$ab800a26.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\\n\\tat com.fxclub.payments.esb.EsbListener$$EnhancerBySpringCGLIB$$695f88a.listenFeeUpdateEvent(<generated>)\\n\\tat jdk.internal.reflect.GeneratedMethodAccessor283.invoke(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.DefaultCustomFxGenericMessageListener.onMessage(DefaultCustomFxGenericMessageListener.java:85)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.DefaultCustomFxGenericMessageListener.listenFxMessage(DefaultCustomFxGenericMessageListener.java:60)\\n\\tat com.fxclub.payments_sb2.kafka.factory.consume.FxMessageGenericListener.listenFxMessage(FxMessageGenericListener.java:41)\\n\\tat jdk.internal.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)\\n\\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)\\n\\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56)\\n\\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.invoke(BatchMessagingMessageListenerAdapter.java:180)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.onMessage(BatchMessagingMessageListenerAdapter.java:172)\\n\\tat org.springframework.kafka.listener.adapter.BatchMessagingMessageListenerAdapter.onMessage(BatchMessagingMessageListenerAdapter.java:61)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeBatchOnMessage(KafkaMessageListenerContainer.java:2268)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchOnMessageWithRecordsOrList(KafkaMessageListenerContainer.java:2258)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchOnMessage(KafkaMessageListenerContainer.java:2204)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeBatchListener(KafkaMessageListenerContainer.java:2114)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.access$2100(KafkaMessageListenerContainer.java:550)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer$1.doInTransactionWithoutResult(KafkaMessageListenerContainer.java:2021)\\n\\tat org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:36)\\n\\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchListenerInTx(KafkaMessageListenerContainer.java:2012)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeBatchListener(KafkaMessageListenerContainer.java:1994)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1976)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1364)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1355)\\n\\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1247)\\n\\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\\n\\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\nCaused by: com.fxclub.api.common.exceptions.ServiceException: Exception during service call https://currency-rates-fxb3-priv.qa-env.com/v3/convertByLastRates: null\\n\\tat com.fxclub.rest.v3.RestV3Caller.checkResponse(RestV3Caller.java:695)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeatForResponseEntity(RestV3Caller.java:667)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeatForResponseEntity(RestV3Caller.java:614)\\n\\tat com.fxclub.rest.v3.RestV3Caller.callWithRepeat(RestV3Caller.java:600)\\n\\tat com.fxclub.rest.v3.RestV3Caller.call(RestV3Caller.java:556)\\n\\tat com.fxclub.rest.v3.RestV3Caller.call(RestV3Caller.java:245)\\n\\tat com.fxclub.payments.service.FeeConfigurationService.lambda$processFeeUpdateEvent$4(FeeConfigurationService.java:149)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\\n\\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\\n\\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290)\\n\\tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:754)\\n\\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\\n\\tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:686)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\\n\\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\\n\\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\\n\\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\\n\\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:765)\\n\\tat com.fxclub.payments.service.FeeConfigurationService.processFeeUpdateEvent(FeeConfigurationService.java:135)\\n\\tat com.fxclub.payments.service.FeeConfigurationService$$FastClassBySpringCGLIB$$dbbc6a4.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\\n\\t... 56 common frames omitted\"\n" +
        "    ]\n" +
        "  }\n" +
        "}";

    char[] c = log.toCharArray();
    System.out.println(c.length);
  }



}
